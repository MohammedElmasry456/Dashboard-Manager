<div class="container w-50 mt-5 shadow-lg rounded p-4 bg-white">
  <h1 class="text-center mb-4">Add Product</h1>

  <div >
    <div class="form-group mb-3">
      <input class="form-control form-control-lg" type="text" [value]="product.name" placeholder="Product Name"
(change)="this.getName=name.value" #name>
    </div>

    <div class="form-floating mb-3">
      <textarea class="form-control" placeholder="Leave a description here" id="floatingTextarea" [value]="product.description"
                (change)="this.getDescription=description.value" #description></textarea>
      <label for="floatingTextarea">Description</label>
    </div>

      <div class="form-group mb-3">
        <select class="form-select form-select-lg" [value]="setCategory" (change)="loadSubcategories(category.value)" #category>
          <option disabled selected>Choose Category</option>
          @for(category of categories; track category._id){
            <option [value]="category._id">{{category.name}}</option>
          }
        </select>
      </div>

        <div class="form-group mb-3">
          <select class="form-select form-select-lg" [value]="setsubCategory" (change)="this.getSubcategory=subcategory.value" #subcategory>
            <option disabled selected>Choose Subcategory</option>
            @for(subcategory of subcategories; track subcategory._id){
              <option [value]="subcategory._id">{{subcategory.name}}</option>
            }
          </select>
        </div>

    <div class="row mb-3">
      @if(product)
      {
        <div class="col">
          <input class="form-control form-control-lg" type="number" [value]="product.price" placeholder="Product Price"
                 (change)="this.getPrice=price.value" #price>
        </div>
        <div class="col">
          <input class="form-control form-control-lg" type="number"  [value]="product.quantity" placeholder="Product Quantity"
                 (change)="this.getQuantity=quantity.value" #quantity>
        </div>
      }
    </div>

    <div class="row mb-3">
      <div class="col">
        <label for="productCover" class="form-label">Product Cover</label>
        <input class="form-control" id="productCover" type="file" (change)="setCover($event)" accept="image/*">
      </div>
      <div class="col">
        <label for="productImages" class="form-label">Product Images</label>
        <input class="form-control" id="productImages" type="file" (change)="setImages($event)" accept="image/*" multiple>
      </div>
    </div>

    <div class="d-flex justify-content-center mt-4">
      <button class="btn btn-primary btn-lg px-5 me-3" (click)="updateProduct()">update</button>
      <a routerLink="/products" class="btn btn-secondary btn-lg px-5">Cancel</a>
    </div>
  </div>
</div>
<br><br><br>
